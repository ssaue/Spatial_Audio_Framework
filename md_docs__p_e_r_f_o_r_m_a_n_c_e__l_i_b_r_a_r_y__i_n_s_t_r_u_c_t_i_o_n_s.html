<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Spatial_Audio_Framework: Performance Libraries Supported by SAF</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="CustomDoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Spatial_Audio_Framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_docs__p_e_r_f_o_r_m_a_n_c_e__l_i_b_r_a_r_y__i_n_s_t_r_u_c_t_i_o_n_s.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Performance Libraries Supported by SAF </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Spatial_Audio_Framework (SAF) requires any library (or combination of libraries) which supports the <a href="https://en.wikipedia.org/wiki/Basic_Linear_Algebra_Subprograms#Implementations">CBLAS</a> and <a href="https://en.wikipedia.org/wiki/LAPACK">LAPACK</a> standards</p>
<p>Currently, SAF supports <a href="https://software.intel.com/en-us/articles/free-ipsxe-tools-and-libraries">Intel MKL</a>, <a href="https://github.com/xianyi/OpenBLAS">OpenBLAS</a>, <a href="https://developer.apple.com/documentation/accelerate">Apple Accelerate</a>, and <a href="http://math-atlas.sourceforge.net/">ATLAS</a>. You may select which option you wish to use by adding one of the following pre-processor definitions:</p>
<div class="fragment"><div class="line">SAF_USE_INTEL_MKL             # great option, but only for x86 architectures    </div>
<div class="line">SAF_USE_OPEN_BLAS_AND_LAPACKE # good option, works on everything</div>
<div class="line">SAF_USE_APPLE_ACCELERATE      # good option (x86 and ARM), faster than OpenBLAS, but MacOSX only &amp; slower than MKL</div>
<div class="line">SAF_USE_ATLAS                 # bad option (x86 and ARM), many LAPACK functions are missing</div>
<div class="line">SAF_USE...                    # please get in touch if you use something else! :-)</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md13"></a>
SAF_USE_INTEL_MKL</h1>
<p>Intel MKL is perhaps the fastest library for <b>x86</b> platforms. It also includes an optimised FFT implementation and a number of additional vectorised utility functions which SAF is also able to make use of.</p>
<p><b>Intel MKL can be downloaded (royalty-free) <a href="https://software.intel.com/en-us/articles/free-ipsxe-tools-and-libraries">from here</a></b>.</p>
<p>Unfortunately, while you can indeed link directly to the Intel MKL static/shared libraries... these files are rather large. Therefore, you may prefer to use the MKL builder to build a custom MKL library, which contains only the routines that SAF actually needs.</p>
<p>Instructions regarding how to build a custom MKL library for Windows, MacOSX, and Linux users, can be found below.</p>
<h2><a class="anchor" id="autotoc_md14"></a>
Linux/MacOSX users</h2>
<p>Run the following bash script (<b>sudo</b> privileges required):</p>
<div class="fragment"><div class="line">cd scripts</div>
<div class="line">sudo ./install-safmkl.sh [threaded|sequential]</div>
</div><!-- fragment --><p>Add the following header search path to your project:</p>
<div class="fragment"><div class="line">[/opt|~]/intel/compilers_and_libraries/linux/mkl/include    # Linux users</div>
<div class="line">[/opt|~]/intel/compilers_and_libraries/mac/mkl/include      # MacOSX users</div>
</div><!-- fragment --><p>Then add the following linker flag to your project:</p>
<div class="fragment"><div class="line">-L/usr/lib -lsaf_mkl_custom        # Linux users</div>
<div class="line">-L/usr/local/lib -lsaf_mkl_custom  # MacOSX users</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md15"></a>
Windows users</h2>
<p>Run the following batch script using <b>x64 Developer Command Prompt for VS.exe</b> (open as <b>administrator</b>):</p>
<div class="fragment"><div class="line">cd scripts</div>
<div class="line">install-safmkl.bat</div>
</div><!-- fragment --><p>Add the following header search path to your project:</p>
<div class="fragment"><div class="line">C:/Program Files (x86)/IntelSWTools/compilers_and_libraries/windows/mkl/include</div>
</div><!-- fragment --><p>Add the following library search path to your project:</p>
<div class="fragment"><div class="line">C:/Users/[YOUR WORKING DIRECTORY]/SDKs/Spatial_Audio_Framework/dependencies/Win64/lib</div>
</div><!-- fragment --><p>link your project against the following library: </p><div class="fragment"><div class="line">saf_mkl_custom.lib </div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md16"></a>
Other options</h2>
<p>This custom MKL library is also installed alongside the <a href="http://research.spa.aalto.fi/projects/sparta_vsts/">SPARTA</a> VST plug-in suite. Athough, it will be noted that this may not be the most up-to-date version of the library.</p>
<p>You may of course also elect to not build this custom library and link directly with: </p><div class="fragment"><div class="line">[/opt|~]/intel/compilers_and_libraries/linux/mkl/lib/mkl_rt.so                              # Linux users</div>
<div class="line">[/opt|~]/intel/compilers_and_libraries/mac/mkl/lib/mkl_rt.dylib                             # MacOSX users</div>
<div class="line">C:/Program Files (x86)/IntelSWTools/compilers_and_libraries/windows/mkl/lib/libmkl_rt.lib   # Windows users</div>
</div><!-- fragment --><p>Intel MKL also ships with recent <a href="https://anaconda.org">Anaconda</a> distributions. The easiest way to install with conda is: </p><div class="fragment"><div class="line">conda install mkl mkl-include</div>
</div><!-- fragment --><p> Please refer to the documentation to find out where conda installs packages on your platform.</p>
<h1><a class="anchor" id="autotoc_md17"></a>
SAF_USE_OPEN_BLAS_AND_LAPACKE</h1>
<p>For those who would like to use the framework with <a href="https://github.com/xianyi/OpenBLAS">OpenBLAS</a>, note that for Debian/Ubuntu based Linux distributions, the libraries may be installed via:</p>
<div class="fragment"><div class="line">sudo apt-get install liblapack3 liblapack-dev libopenblas-base libopenblas-dev liblapacke-dev</div>
</div><!-- fragment --><p>However, if you are not on Linux, or would prefer to have more control over things, then the required libraries may also be built via CMake:</p>
<div class="fragment"><div class="line">git clone https://github.com/xianyi/OpenBLAS.git</div>
<div class="line"># install fortran compiler if you haven&#39;t already (for lapack support)</div>
<div class="line">sudo apt-get install gfortran</div>
<div class="line"># build static libs</div>
<div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake .. -DCMAKE_BUILD_TYPE=Release -DBUILD_SHARED_LIBS=0 -DBUILD_WITHOUT_LAPACK=0</div>
<div class="line">make </div>
</div><!-- fragment --><p>The static openblas library can then be found in: </p><div class="fragment"><div class="line">OpenBLAS/build/lib/libopenblas.a</div>
</div><!-- fragment --><p>The required include files are then found in: </p><div class="fragment"><div class="line">OpenBLAS/lapack-netlib/CBLAS/include</div>
<div class="line">OpenBLAS/lapack-netlib/LAPACKE/include</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md18"></a>
SAF_USE_APPLE_ACCELERATE</h1>
<p>Only for MacOSX users. Simply add the <a href="https://developer.apple.com/documentation/accelerate"><b>Accelerate</b></a> framework to your XCode project, and you're good to go.</p>
<p>Note that Accelerate also includes an optimised FFT implementation and a number of additional vectorised utility functions which SAF is also able to make use of.</p>
<h1><a class="anchor" id="autotoc_md19"></a>
SAF_USE_ATLAS</h1>
<p>Using <a href="http://math-atlas.sourceforge.net/">ATLAS</a> is not recommended, since some LAPACK functions are missing. However, if you don't mind losing some SAF functionality, then this may still be a good choice for your particular project. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon May 3 2021 07:58:15 for Spatial_Audio_Framework by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
